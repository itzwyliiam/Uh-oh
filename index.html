<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>UH OH</title>

<style>
body {
  background:black;
  color:lime;
  font-family:"Courier New", monospace;
  text-align:center;
  overflow:auto; /* SCROLL ENABLED */
  animation:flash 0.15s infinite;
  min-height:100vh;
}

@keyframes flash {
  0% {background:black;}
  50% {background:#030;}
  100% {background:black;}
}

#loginBox {
  margin:20px auto;
  width:300px;
  border:2px solid red;
  padding:15px;
  background:#200;
}

#terminal {
  width:90%;
  min-height:200px;
  max-height:400px;
  overflow:auto;
  background:#010101;
  border:2px solid lime;
  margin:20px auto;
  padding:10px;
  text-align:left;
}

#map {
  width:90%;
  height:350px;
  border:5px dashed lime;
  margin:25px auto;
}

#video {
  width:80%;
  margin:20px auto;
  border:3px solid red;
}
</style>
</head>
<body>

<h1>⚠️ UH OH... UR HISTORY ⚠️</h1>
<h2>YOUR DEVICE HAS BEEN COMPROMISED!!!</h2>

<!-- LOGIN -->
<div id="loginBox">
  <h3>Login to continue</h3>
  <input id="fakeUser" style="width:100%;padding:5px;" placeholder="Username"><br><br>
  <button onclick="fakeLogin()" style="width:100%;">LOGIN</button>
</div>

<!-- TERMINAL -->
<div id="terminal"></div>

<!-- MAP -->
<div id="map"></div>

<!-- CAMERA -->
<video id="video" autoplay playsinline></video>

<script>
// TERMINAL PRINT FUNCTION
function term(text){
  const t=document.getElementById("terminal");
  t.innerHTML += "> " + text + "<br>";
  t.scrollTop = t.scrollHeight;
}

// LOGIN
function fakeLogin(){
  const user=document.getElementById("fakeUser").value || "UNKNOWN_USER";
  document.getElementById("loginBox").style.display="none";

  term("Authenticating " + user + "...");
  term("Accessing device...");
  term("Injecting surveillance modules...");
  term("Reading browser identity...");
  term("YOU CANNOT HIDE ANYTHING, " + user + "...");
  navigator.vibrate([200,100,200]);
  
  collectInfo(user);
  loadCamera();
  loadLocation();
}

// DEVICE INFO
function collectInfo(user){
  term("Collecting IP address...");
  fetch("https://ipwho.is/")
    .then(r=>r.json())
    .then(data=>{
      term("IP Address: " + data.ip);
      term("Country: " + data.country);
      term("Region: " + data.region);
      term("City: " + data.city);
      term("ISP: " + data.connection.isp);
      term("Timezone: " + data.timezone.id);
    });

  term("Browser: " + navigator.userAgent);
  term("Platform: " + navigator.platform);
  term(user + " is now fully exposed...");
}

// CAMERA
function loadCamera(){
  term("Requesting camera access...");
  navigator.mediaDevices.getUserMedia({video:true})
    .then(stream=>{
      document.getElementById("video").srcObject = stream;
      term("Camera feed acquired.");
    })
    .catch(()=>{
      term("Camera access denied.");
    });
}

// LOCATION + MAP
function loadLocation(){
  term("Requesting GPS location...");

  navigator.geolocation.getCurrentPosition(
    pos=>{
      const lat = pos.coords.latitude;
      const lon = pos.coords.longitude;

      term("GPS LOCKED:");
      term("Latitude: " + lat);
      term("Longitude: " + lon);
      showMap(lat, lon);
    },
    err=>{
      term("GPS denied. Switching to IP location...");
      fetch("https://ipwho.is/")
        .then(r=>r.json())
        .then(data=>{
          showMap(data.latitude, data.longitude);
        });
    },
    {enableHighAccuracy:true, timeout:5000}
  );
}

// OSM MAP
function showMap(lat, lon){
  document.getElementById("map").innerHTML = `
    <iframe
      width="100%" height="100%" style="border:0"
      src="https://www.openstreetmap.org/export/embed.html?bbox=${lon-0.02}%2C${lat-0.02}%2C${lon+0.02}%2C${lat+0.02}&layer=mapnik&marker=${lat}%2C${lon}">
    </iframe>
  `;
  term("Map loaded. Device tracked.");
}
</script>

</body>
</html>